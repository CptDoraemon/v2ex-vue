(function(t){function e(e){for(var n,s,i=e[0],c=e[1],l=e[2],p=0,d=[];p<i.length;p++)s=i[p],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={app:0},o=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/v2ex-vue/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1748:function(t,e,a){"use strict";a("7984")},"568c":function(t,e,a){"use strict";a("dfcd")},"56d7":function(t,e,a){"use strict";a.r(e);a("b0c0"),a("30a0");var n=a("83d8"),r=(a("2ef0"),a("9839")),o=(a("9a33"),a("f933")),s=(a("6ba6"),a("5efb")),i=(a("dd98"),a("3779")),c=(a("7f6b"),a("8592")),l=(a("8fb1"),a("0c63")),u=(a("fbd8"),a("55f1")),p=(a("1a62"),a("98c5")),d=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-layout",{staticClass:"layout-root"},[a("side-bar",{attrs:{collapsed:t.isMenuCollapsed}}),a("a-layout",[a("global-header",{attrs:{collapsed:t.isMenuCollapsed},on:{"update:collapsed":function(e){t.isMenuCollapsed=e}}}),a("router-view")],1),a("a-back-top")],1)},m=[],b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-layout-sider",{attrs:{trigger:null,collapsible:""},model:{value:t.collapsed,callback:function(e){t.collapsed=e},expression:"collapsed"}},[a("h1",{staticClass:"title"},[t._v(" v2ex-vue ")]),a("a-menu",{attrs:{theme:"dark",mode:"inline",selectedKeys:t.selectedTab,defaultOpenKeys:t.collapsed?null:["tabs"]}},[a("a-sub-menu",{key:"tabs"},[a("span",{attrs:{slot:"title"},slot:"title"},[a("a-icon",{attrs:{type:"appstore"}}),a("span",{staticClass:"menu-item"},[t._v("Tabs")])],1),t._l(t.menuItems,(function(e,n){return a("a-menu-item",{key:n},[a("router-link",{attrs:{to:e.link}},[a("span",{staticClass:"menu-item"},[t._v(t._s(n))])])],1)}))],2),a("a-menu-item",[a("router-link",{attrs:{to:t.routes.about}},[a("a-icon",{attrs:{type:"team"}}),a("span",{staticClass:"menu-item"},[t._v("About")])],1)],1)],1)],1)},g=[],h=(a("d3b7"),a("25f0"),a("8c4f")),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main-content-wrapper",[t.isLoading?a("div",{staticClass:"message-container"},[a("a-spin",{attrs:{tip:"Fetching Posts..."}})],1):t._e(),t.isError?a("div",{staticClass:"message-container"},[a("a-result",{attrs:{status:"error",title:"Server Error","sub-title":t.errorMessage},scopedSlots:t._u([{key:"extra",fn:function(){return[a("a-button",{attrs:{type:"primary"},on:{click:t.fetchData}},[t._v(" Try Again ")])]},proxy:!0}],null,!1,1024352388)})],1):t._e(),!t.isLoading&&t.hasData?a("div",{staticClass:"posts-container"},[a("div",[a("post-list-options")],1),t._l(t.data,(function(t,e){return a("post-card",{key:e,attrs:{data:t}})}))],2):t._e()])},_=[],y=a("5530"),O=a("2f62"),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"root"},[a("div",{staticClass:"header"},[a("h2",{staticClass:"title"},[t._v(" "+t._s(t.data.title)+" ")])]),a("div",{staticClass:"content"},[t._v(" "+t._s(t.data.content)+" ")]),a("div",{staticClass:"details"},[a("div",{staticClass:"details-item"},[a("tooltip-wrapper",{attrs:{title:"tag"}},[a("div",{staticClass:"tag",attrs:{"aria-label":"tag"}},[t._v(" "+t._s(t.data.node.title)+" ")])])],1),a("div",{staticClass:"details-item"},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:t.data.member.avatar_large}}),a("tooltip-wrapper",{attrs:{title:"username"}},[a("span",{attrs:{"aria-label":"username"}},[t._v(" "+t._s(t.data.member.username)+" ")])])],1)]),a("div",{staticClass:"details-item"},[a("tooltip-wrapper",{attrs:{title:"created"}},[a("span",{attrs:{"aria-label":"created"}},[t._v(" "+t._s(t.getTimeString(t.data.created))+" ")])])],1),a("div",{staticClass:"details-item"},[a("tooltip-wrapper",{attrs:{title:"replies"}},[a("a",{staticClass:"replies",attrs:{"aria-label":"replies",href:t.data.url,target:"_blank",rel:"noopener noreferrer"}},[t._v(" "+t._s(t.data.replies)+" ")])])],1)])])},S=[],j=(a("99af"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-tooltip",[a("template",{slot:"title"},[t._v(" "+t._s(t.title)+" ")]),t._t("default",[t._v(t._s("123"))])],2)}),x=[],C={name:"TooltipWrapper",props:{title:String}},D=C,k=a("0c7c"),M=Object(k["a"])(D,j,x,!1,null,"a3f5697c",null),E=M.exports,B={name:"PostCard",components:{TooltipWrapper:E},props:{data:Object},methods:{getTimeString:function(t){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=new Date(1e3*t),n=a.getHours()<10?"0".concat(a.getHours()):a.getHours(),r=a.getMinutes()<10?"0".concat(a.getMinutes()):a.getMinutes();return"".concat(a.getDate()," ").concat(e[a.getMonth()],", ").concat(a.getFullYear()," - ").concat(n,":").concat(r)}}},L=B,T=(a("568c"),Object(k["a"])(L,w,S,!1,null,"effdb4a2",null)),P=T.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-layout-content",{staticClass:"content"},[t._t("default")],2)},F=[],W={name:"MainContentWrapper"},H=W,I=(a("f3e8"),Object(k["a"])(H,$,F,!1,null,"6b28543c",null)),A=I.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"root"},[a("div",{staticClass:"select-group"},[a("span",[t._v(" Sort by: ")]),a("a-select",{style:t.selectStyle,attrs:{value:t.sortBy,dropdownStyle:t.optionStyle},on:{change:function(e){return t.changeSort({sortBy:e})}}},t._l(t.sortByOptions,(function(e){return a("a-select-option",{key:e,attrs:{value:e}},[t._v(" "+t._s(e)+" ")])})),1)],1),a("div",{staticClass:"select-group"},[a("span",[t._v(" Sort order: ")]),a("a-select",{style:t.selectStyle,attrs:{value:t.sortOrder,dropdownStyle:t.optionStyle},on:{change:function(e){return t.changeSort({sortOrder:e})}}},t._l(t.sortOrderOptions,(function(e){return a("a-select-option",{key:e,attrs:{value:e}},[t._v(" "+t._s(e)+" ")])})),1)],1)])},z=[],N={name:"PostListOptions",data:function(){return{selectStyle:{minWidth:"150px",textTransform:"capitalize"},optionStyle:{textTransform:"capitalize"}}},computed:Object(y["a"])({},Object(O["d"])("postData",["sortBy","sortByOptions","sortOrder","sortOrderOptions"])),methods:Object(y["a"])({},Object(O["b"])("postData",["changeSort"]))},G=N,K=(a("1748"),Object(k["a"])(G,J,z,!1,null,"f6a74630",null)),R=K.exports,U={name:"PostList",components:{PostListOptions:R,MainContentWrapper:A,PostCard:P},props:{tab:String},computed:Object(y["a"])(Object(y["a"])({},Object(O["d"])("postData",["errorMessage","isLoading","sortBy","data"])),Object(O["c"])("postData",["isError","hasData"])),methods:{fetchData:function(){this.$store.dispatch("postData/fetchData",this.tab)}},mounted:function(){this.fetchData()},watch:{tab:function(t,e){t!==e&&this.fetchData()}}},Y=U,q=(a("6ff8"),Object(k["a"])(Y,v,_,!1,null,"21315fe3",null)),Q=q.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main-content-wrapper",[t._v(" about ")])},X=[],Z={name:"AboutPage",components:{MainContentWrapper:A},props:{data:Object}},tt=Z,et=Object(k["a"])(tt,V,X,!1,null,"023d98c2",null),at=et.exports,nt={root:"/",new:"/tab/new",popular:"/tab/popular",about:"/about"},rt=[{path:"/",redirect:nt.new},{path:"/tab/:tab",component:Q,props:function(t){return{tab:t.params.tab}}},{path:"/about",component:at}],ot=new h["a"]({routes:rt,mode:"history",base:"/v2ex-vue/"}),st=nt,it={name:"SideBar",components:{},data:function(){return{routes:st,menuItems:{new:{link:st.new},popular:{link:st.popular}}}},props:{collapsed:Boolean},computed:{selectedTab:function(t){return void 0===t.$route.params.tab?[]:[t.$route.params.tab.toString()]}}},ct=it,lt=(a("ec19"),Object(k["a"])(ct,b,g,!1,null,"7a606169",null)),ut=lt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-layout-header",{staticStyle:{background:"#fff",padding:"0"}},[a("a-icon",{staticClass:"trigger",attrs:{type:t.collapsed?"menu-unfold":"menu-fold"},on:{click:function(e){return t.$emit("update:collapsed",!t.collapsed)}}})],1)},dt=[],ft={name:"GlobalHeader",components:{},props:{collapsed:Boolean}},mt=ft,bt=(a("8244"),Object(k["a"])(mt,pt,dt,!1,null,"3ac1057f",null)),gt=bt.exports,ht={name:"App",components:{GlobalHeader:gt,SideBar:ut},data:function(){return{isMenuCollapsed:!1}},created:function(){window.innerWidth<800&&(this.isMenuCollapsed=!0)}},vt=ht,_t=(a("7c55"),Object(k["a"])(vt,f,m,!1,null,null,null)),yt=_t.exports,Ot=(a("4160"),a("96cf"),a("1da1")),wt=a("0644"),St=a.n(wt),jt=a("bc3a"),xt=a.n(jt),Ct=a("b054"),Dt=a.n(Ct),kt={namespaced:!0,state:{data:[],isLoading:!1,errorMessage:"",sortBy:"created",sortByOptions:["created","replies"],sortOrder:"descending",sortOrderOptions:["ascending","descending"]},getters:{isError:function(t){return""!==t.errorMessage},hasData:function(t){return t.data.length>0}},mutations:{startFetching:function(t){t.data=[],t.isLoading=!0,t.errorMessage=""},endFetchingWithData:function(t,e){t.data=St()(e),t.isLoading=!1},endFetchingWithError:function(t,e){t.errorMessage=e,t.isLoading=!1},changeSort:function(t,e){["sortBy","sortOrder"].forEach((function(a){void 0!==e[a]&&(t[a]=e[a])}))},sortData:function(t){var e="descending"===t.sortOrder?-1:1,a=t.sortBy,n=St()(t.data);n.sort((function(t,n){return(t[a]-n[a])*e})),t.data=n},setIsLoading:function(t,e){t.isLoading=e}},actions:{changeSort:function(t,e){var a=t.state,n=t.commit,r=t.dispatch;a.isLoading||(n("changeSort",e),r("_sortData"))},_sortData:function(t){var e=t.commit;e("setIsLoading",!0),setTimeout((function(){return e("sortData")})),setTimeout((function(){return e("setIsLoading",!1)}))},_fetchData:function(){var t=Object(Ot["a"])(regeneratorRuntime.mark((function t(e,a){var n,r,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.commit,r=e.state,t.prev=1,!r.isLoading){t.next=4;break}return t.abrupt("return");case 4:return n("startFetching"),t.next=7,xt.a.get(a);case 7:o=t.sent,n("endFetchingWithData",o.data.data),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](1),s=t.t0.response&&t.t0.response.message?t.t0.response.message:"Failed to fetch the post data at the moment, please try again later.",n("endFetchingWithError",s);case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));function e(e,a){return t.apply(this,arguments)}return e}(),fetchData:function(t,e){var a=t.dispatch;switch(e){case"new":a("_fetchData","https://www.xiaoxihome.com/api/v2ex/new"),a("changeSort",{sortBy:"created",sortOrder:"descending"});break;case"popular":a("_fetchData","https://www.xiaoxihome.com/api/v2ex/popular"),a("changeSort",{sortBy:"replies",sortOrder:"descending"});break;default:a("_fetchData","https://www.xiaoxihome.com/api/v2ex/new"),a("changeSort",{sortBy:"created",sortOrder:"descending"})}}}};d["a"].use(O["a"]);var Mt=new O["a"].Store({modules:{postData:kt},plugins:[Dt()()]}),Et=Mt;d["a"].component(p["a"].name,p["a"]),d["a"].component(p["a"].Sider.name,p["a"].Sider),d["a"].component(p["a"].Header.name,p["a"].Header),d["a"].component(p["a"].Content.name,p["a"].Content),d["a"].component(u["a"].name,u["a"]),d["a"].component(u["a"].Item.name,u["a"].Item),d["a"].component(u["a"].SubMenu.name,u["a"].SubMenu),d["a"].component(l["a"].name,l["a"]),d["a"].component(c["a"].name,c["a"]),d["a"].component(i["a"].name,i["a"]),d["a"].component(s["a"].name,s["a"]),d["a"].component(o["a"].name,o["a"]),d["a"].component(r["a"].name,r["a"]),d["a"].component(r["a"].Option.name,r["a"].Option),d["a"].component(n["a"].name,n["a"]),d["a"].use(h["a"]),d["a"].config.productionTip=!1,new d["a"]({render:function(t){return t(yt)},router:ot,store:Et}).$mount("#app")},"6ff8":function(t,e,a){"use strict";a("f77e")},7984:function(t,e,a){},"7c55":function(t,e,a){"use strict";a("90ee")},8244:function(t,e,a){"use strict";a("b141")},8450:function(t,e,a){},"90ee":function(t,e,a){},"954f":function(t,e,a){},b141:function(t,e,a){},dfcd:function(t,e,a){},ec19:function(t,e,a){"use strict";a("8450")},f3e8:function(t,e,a){"use strict";a("954f")},f77e:function(t,e,a){},fd21:function(t,e,a){var n={"./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9"};function r(t){var e=o(t);return a(e)}function o(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=o,t.exports=r,r.id="fd21"}});
//# sourceMappingURL=app.5831dbfb.js.map